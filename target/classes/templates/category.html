<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/head :: page-head(title=${#strings.capitalizeWords(categoryName)})}"></head>

<body>
<div th:replace="~{fragments/header :: page-header}"></div>
<main class="section">
    <div class="container">
        <h2 th:text="${#strings.capitalizeWords(categoryName)}">Category Name</h2>

        <div class="item-grid">
            <a th:each="item : ${items}" th:href="@{/item/{id}(id=${item.id})}" class="item-card-link">
                <div class="item-card">
                    <img th:src="${#lists.isEmpty(item.photoUrls) ? '/images/default.jpg' : item.photoUrls.get(0)}" alt="Item image" />
                    <div class="item-content">
                        <h3 th:text="${item.name}">Item Name</h3>
                        <p th:text="${item.description}">Description</p>
                        <p><strong>Price:</strong> $<span th:text="${#numbers.formatDecimal(item.price, 1, 2)}">0.00</span></p>
                        <p>
                            <strong>Rating:</strong>
                            <span th:text="${#numbers.formatDecimal(item.getAverageRating(), 1, 1)}">0.0</span>/5
                            (<span th:text="${#lists.size(item.reviews)}">0</span> reviews)
                        </p>
                    </div>
                </div>
            </a>
        </div>

        <div th:if="${#lists.isEmpty(items)}">
            <p>No items found in this category yet.</p>
        </div>
    </div>
</main>
<div th:replace="~{fragments/footer :: page-footer}"></div>
</body>
</html>